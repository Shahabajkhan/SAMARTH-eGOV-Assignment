{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { json } from 'express';\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var navigate=useNavigate();// useEffect(() => {\n//     const auth = localStorage.getItem('user');\n//     if (auth) {\n//         navigate(\"/\");\n//     }\n// }, []);\nvar handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:5000/login',{method:'post',body:JSON.stringify({email:email,password:password}),headers:{'Content-Type':'application/json'}});case 2:result=_context.sent;if(!(result.status===200)){_context.next=12;break;}console.log('Logged In Successfully!');_context.next=7;return result.json();case 7:data=_context.sent;localStorage.setItem(\"user\",JSON.stringify(data));navigate('/');_context.next=13;break;case 12:alert('Incorrect credentials.');case 13:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button1\",onClick:handleLogin,type:\"button\",children:\"Login\"})]});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","password","setPassword","_useState3","_useState4","email","setEmail","navigate","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","data","wrap","_callee$","_context","prev","next","fetch","method","body","JSON","stringify","headers","sent","status","console","log","json","localStorage","setItem","alert","stop","apply","arguments","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/src/components/Login.js"],"sourcesContent":["// import { json } from 'express';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst Login = () => {\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    \r\n    // useEffect(() => {\r\n    //     const auth = localStorage.getItem('user');\r\n    //     if (auth) {\r\n    //         navigate(\"/\");\r\n    //     }\r\n    // }, []);\r\n\r\n    const handleLogin = async () => {\r\n        // console.warn(\"email,password\", email, password);\r\n        let result = await fetch('http://localhost:5000/login', {\r\n            method: 'post',\r\n            body: JSON.stringify({ email, password }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        //   let data =await result.json()\r\n          if (result.status === 200) {\r\n            console.log('Logged In Successfully!');\r\n            let data = await result.json();\r\n            localStorage.setItem(\"user\", JSON.stringify(data))\r\n            navigate('/');\r\n          } else {\r\n            alert('Incorrect credentials.');\r\n          }\r\n        \r\n        // console.warn(result,\"dfgh\");\r\n        // if (result) {\r\n          \r\n        //     navigate(\"/\");\r\n        // }\r\n        // else {\r\n        //     alert(\"incorrect....\")\r\n        // }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className='login'>\r\n            <h1>Login</h1>\r\n            <br />\r\n            <br />\r\n            <input type=\"text\" placeholder='Enter email'\r\n                value={email} onChange={(e) => setEmail(e.target.value)} />\r\n\r\n            <input type=\"password\" placeholder='Enter Password'\r\n                value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            <br />\r\n            <br />\r\n            <button className='button1' onClick={handleLogin} type='button'>Login</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}