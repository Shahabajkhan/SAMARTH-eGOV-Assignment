{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=function ProductList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){getProducts();},[]);var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:5000/products');case 2:result=_context.sent;_context.next=5;return result.json();case 5:result=_context.sent;setProducts(result);case 7:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();// console.warn(\"products\",products);\nvar deleteProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/product/\".concat(id),{method:\"Delete\"});case 2:result=_context2.sent;_context2.next=5;return result.json();case 5:result=_context2.sent;if(result){getProducts();}case 7:case\"end\":return _context2.stop();}},_callee2);}));return function deleteProduct(_x){return _ref2.apply(this,arguments);};}();var searchHandle=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){var key,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:// console.log(event.target.value);\nkey=event.target.value;if(!key){_context3.next=11;break;}_context3.next=4;return fetch(\"http://localhost:5000/search/\".concat(key));case 4:result=_context3.sent;_context3.next=7;return result.json();case 7:result=_context3.sent;if(result){setProducts(result);}_context3.next=12;break;case 11:getProducts();case 12:case\"end\":return _context3.stop();}},_callee3);}));return function searchHandle(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fixed\",style:{margin:'15px'},children:\"Product List\"}),/*#__PURE__*/_jsx(\"input\",{className:\"fixed\",onChange:searchHandle,type:\"text\",placeholder:\"Search product\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"S.No\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Company\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Operation\"})]}),products.length>0?products.map(function(item,index){return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:index+1}),/*#__PURE__*/_jsx(\"li\",{children:item.name}),/*#__PURE__*/_jsx(\"li\",{children:item.price}),/*#__PURE__*/_jsx(\"li\",{children:item.category}),/*#__PURE__*/_jsx(\"li\",{children:item.company}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteProduct(item._id);},children:\"delete\"}),/*#__PURE__*/_jsx(Link,{className:\"update\",to:'/update/'+item._id,children:\"Update\"})]})]},item._id);}):/*#__PURE__*/_jsx(\"h1\",{children:\"No result found\"}),/*#__PURE__*/_jsx(\"div\",{className:\"op\"})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","ProductList","_useState","_useState2","_slicedToArray","products","setProducts","getProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","apply","arguments","deleteProduct","_ref2","_callee2","id","_callee2$","_context2","concat","method","_x","searchHandle","_ref3","_callee3","event","key","_callee3$","_context3","target","value","_x2","className","children","style","margin","onChange","type","placeholder","length","map","item","index","name","price","category","company","onClick","_id","to"],"sources":["C:/Users/91914/Downloads/SAMARTH-eGOV-main/SAMARTH-eGOV-main/fronttend/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nconst ProductList = () => {\r\n    const [products, setProducts] = useState([]);\r\n    useEffect(() => {\r\n        getProducts();\r\n    }, [])\r\n    const getProducts = async () => {\r\n        let result = await fetch('http://localhost:5000/products');\r\n        result = await result.json();\r\n        setProducts(result);\r\n    }\r\n    // console.warn(\"products\",products);\r\n    const deleteProduct = async (id) => {\r\n        // console.warn(id);\r\n        let result = await fetch(`http://localhost:5000/product/${id}`, {\r\n            method: \"Delete\"\r\n        });\r\n        result = await result.json();\r\n        if (result) {\r\n            getProducts();\r\n        }\r\n    };\r\n    const searchHandle=async(event)=>{\r\n        // console.log(event.target.value);\r\n        let key=event.target.value;\r\n        if(key){\r\n            let result=await fetch(`http://localhost:5000/search/${key}`);\r\n            result =await result.json();\r\n            if(result){\r\n                setProducts(result)\r\n            }\r\n        }\r\n        else{\r\n            getProducts();\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"product-list\">\r\n            {/* <h2 style={margin:5px}>Product List</h2> */}\r\n            <h2 className=\"fixed\" style={{ margin: '15px' }}>Product List</h2>\r\n            <input className=\"fixed\"  onChange={searchHandle} type=\"text\" placeholder=\"Search product\" />\r\n\r\n            <ul>\r\n                <li>S.No</li>\r\n                <li>Name</li>\r\n                <li>Price</li>\r\n                <li>Category</li>\r\n                <li>Company</li>\r\n                <li>Operation</li>\r\n\r\n            </ul>\r\n            {\r\n               products.length>0 ? products.map((item, index) =>\r\n                    <ul key={item._id}>\r\n                        <li>{index + 1}</li>\r\n                        <li>{item.name}</li>\r\n                        <li>{item.price}</li>\r\n                        <li>{item.category}</li>\r\n                        <li>{item.company}</li>\r\n                        <li><button onClick={() => deleteProduct(item._id)} >delete</button>\r\n                            <Link className=\"update\" to={'/update/' + item._id}>Update</Link>\r\n                        </li>\r\n\r\n                    </ul>\r\n                )\r\n                :<h1>No result found</h1>\r\n            }\r\n            <div className=\"op\">\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ProductList;"],"mappings":"oeAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACxC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACtB,IAAAC,SAAA,CAAgCP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5BT,SAAS,CAAC,UAAM,CACZa,WAAW,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CACN,GAAM,CAAAA,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,MAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACG,CAAAC,KAAK,CAAC,gCAAgC,CAAC,QAAtDN,MAAM,CAAAG,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACK,CAAAL,MAAM,CAACQ,IAAI,EAAE,QAA5BR,MAAM,CAAAG,QAAA,CAAAI,IAAA,CACNd,WAAW,CAACO,MAAM,CAAC,CAAC,wBAAAG,QAAA,CAAAM,IAAA,MAAAV,OAAA,GACvB,kBAJK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAe,KAAA,MAAAC,SAAA,OAIhB,CACD;AACA,GAAM,CAAAC,aAAa,6BAAAC,KAAA,CAAAjB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgB,SAAOC,EAAE,MAAAf,MAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAe,UAAAC,SAAA,iBAAAA,SAAA,CAAAb,IAAA,CAAAa,SAAA,CAAAZ,IAAA,SAAAY,SAAA,CAAAZ,IAAA,SAER,CAAAC,KAAK,kCAAAY,MAAA,CAAkCH,EAAE,EAAI,CAC5DI,MAAM,CAAE,QACZ,CAAC,CAAC,QAFEnB,MAAM,CAAAiB,SAAA,CAAAV,IAAA,CAAAU,SAAA,CAAAZ,IAAA,SAGK,CAAAL,MAAM,CAACQ,IAAI,EAAE,QAA5BR,MAAM,CAAAiB,SAAA,CAAAV,IAAA,CACN,GAAIP,MAAM,CAAE,CACRN,WAAW,EAAE,CACjB,CAAC,wBAAAuB,SAAA,CAAAR,IAAA,MAAAK,QAAA,GACJ,kBATK,CAAAF,aAAaA,CAAAQ,EAAA,SAAAP,KAAA,CAAAH,KAAA,MAAAC,SAAA,OASlB,CACD,GAAM,CAAAU,YAAY,6BAAAC,KAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAyB,SAAMC,KAAK,MAAAC,GAAA,CAAAzB,MAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAyB,UAAAC,SAAA,iBAAAA,SAAA,CAAAvB,IAAA,CAAAuB,SAAA,CAAAtB,IAAA,SAC1B;AACIoB,GAAG,CAACD,KAAK,CAACI,MAAM,CAACC,KAAK,KACvBJ,GAAG,EAAAE,SAAA,CAAAtB,IAAA,WAAAsB,SAAA,CAAAtB,IAAA,SACe,CAAAC,KAAK,iCAAAY,MAAA,CAAiCO,GAAG,EAAG,QAAzDzB,MAAM,CAAA2B,SAAA,CAAApB,IAAA,CAAAoB,SAAA,CAAAtB,IAAA,SACI,CAAAL,MAAM,CAACQ,IAAI,EAAE,QAA3BR,MAAM,CAAA2B,SAAA,CAAApB,IAAA,CACN,GAAGP,MAAM,CAAC,CACNP,WAAW,CAACO,MAAM,CAAC,CACvB,CAAC2B,SAAA,CAAAtB,IAAA,kBAGDX,WAAW,EAAE,CAAC,yBAAAiC,SAAA,CAAAlB,IAAA,MAAAc,QAAA,GAErB,kBAbK,CAAAF,YAAYA,CAAAS,GAAA,SAAAR,KAAA,CAAAZ,KAAA,MAAAC,SAAA,OAajB,CACD,mBACIxB,KAAA,QAAK4C,SAAS,CAAC,cAAc,CAAAC,QAAA,eAEzB/C,IAAA,OAAI8C,SAAS,CAAC,OAAO,CAACE,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAC,cAAY,EAAK,cAClE/C,IAAA,UAAO8C,SAAS,CAAC,OAAO,CAAEI,QAAQ,CAAEd,YAAa,CAACe,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,gBAAgB,EAAG,cAE7FlD,KAAA,OAAA6C,QAAA,eACI/C,IAAA,OAAA+C,QAAA,CAAI,MAAI,EAAK,cACb/C,IAAA,OAAA+C,QAAA,CAAI,MAAI,EAAK,cACb/C,IAAA,OAAA+C,QAAA,CAAI,OAAK,EAAK,cACd/C,IAAA,OAAA+C,QAAA,CAAI,UAAQ,EAAK,cACjB/C,IAAA,OAAA+C,QAAA,CAAI,SAAO,EAAK,cAChB/C,IAAA,OAAA+C,QAAA,CAAI,WAAS,EAAK,GAEjB,CAEFxC,QAAQ,CAAC8C,MAAM,CAAC,CAAC,CAAG9C,QAAQ,CAAC+C,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACxCtD,KAAA,OAAA6C,QAAA,eACI/C,IAAA,OAAA+C,QAAA,CAAKS,KAAK,CAAG,CAAC,EAAM,cACpBxD,IAAA,OAAA+C,QAAA,CAAKQ,IAAI,CAACE,IAAI,EAAM,cACpBzD,IAAA,OAAA+C,QAAA,CAAKQ,IAAI,CAACG,KAAK,EAAM,cACrB1D,IAAA,OAAA+C,QAAA,CAAKQ,IAAI,CAACI,QAAQ,EAAM,cACxB3D,IAAA,OAAA+C,QAAA,CAAKQ,IAAI,CAACK,OAAO,EAAM,cACvB1D,KAAA,OAAA6C,QAAA,eAAI/C,IAAA,WAAQ6D,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAlC,aAAa,CAAC4B,IAAI,CAACO,GAAG,CAAC,EAAC,CAAAf,QAAA,CAAE,QAAM,EAAS,cAChE/C,IAAA,CAACF,IAAI,EAACgD,SAAS,CAAC,QAAQ,CAACiB,EAAE,CAAE,UAAU,CAAGR,IAAI,CAACO,GAAI,CAAAf,QAAA,CAAC,QAAM,EAAO,GAChE,GARAQ,IAAI,CAACO,GAAG,CAUZ,GACR,cACA9D,IAAA,OAAA+C,QAAA,CAAI,iBAAe,EAAK,cAE7B/C,IAAA,QAAK8C,SAAS,CAAC,IAAI,EAEb,GACJ,CAEd,CAAC,CACD,cAAe,CAAA3C,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}